<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="en"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorate="~{layout.html}">
<head>
  <meta charset="UTF-8">
  <title>MS search - log in successful</title>
  <link rel="stylesheet" th:href="@{/css/logIn.css}">

</head>
<body>
<div layout:fragment="content">
  <img class="loadingImg" th:src="@{/icon/loading.gif}" alt="loading icon">
  <p class="logInNotice_p">Log in successful! please wait a few seconds.</p>


</div>
</body>
<div layout:fragment="script">
  <script >
    window.onload = async function() {

        let response = await fetch('/api/member', {method: 'POST'});
        if (response.status === 200) {
            window.location.href = './';
        }else {
            let p = document.createElement("p")
			p.style.color = "red"
			p.style.fontSize = "20px"
            p.style.fontWeight = "bold"
            p.style.margin = "10px"
			p.innerText = "Log in error! please try again."
          let container_div = document.querySelector(".logInNotice_p")
            container_div.appendChild(p)
          setTimeout(function () {
            window.location.href = './logIn';
          }, 2 * 1000);
		}
    }
  </script>
  <!--	<script type="module" th:src="@{/js/utility/spectrumChart.js}"></script>-->
  <!--	<script type="module" th:src="@{/js/msSearch.js}"></script>-->
</div>
</html>
